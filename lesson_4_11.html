<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>Программирование на JS</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script>
        "use strict"
        let start =Date.now();//Аналог start =(new Date()).getTime();
        const MIN=1;
        const MAX=2;
        const COUNT=1000;
        let random=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;
        let data=[];
        let c=0;
        const DELAY=1;
        function add(){
            if (c<COUNT) {
                let n=random(MIN,MAX);
                console.log(n);
                data.push(n);
                c++;
                setTimeout(add, DELAY);
            }else analysis();
        }
        function analysis(){
            console.log(data);
            let m=new Map();
            for (const v of data) {
                if (m.has(v)) m.set(v,m.get(v)+1);
                else m.set(v,1);
            }
            console.log(m);
            console.log('Прошло '+(Date.now()-start))+' мс';
        }
        setTimeout(add, DELAY);
    </script>
    </head>
    <body>

    </body>
</html>